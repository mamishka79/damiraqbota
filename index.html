<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Дамир + Ақбота тойына шақыру</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cookie&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Open+Sans:wght@400;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Grand+Hotel&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

  <link rel="stylesheet" href="css/style.css" />

</head>
<body>

  <section class="info" data-aos="fade-up" data-aos-duration="1000">
      <h1>Тойға шақыру!</h1>
      <div class="invitation">
        <div class="damiraqbota">
          <h2>Damir + Aqbota</h2>
        </div>
        <p>Қадірлі ағайын, туған-туыс, жора-жолдас,</p>
        <p>құда-жекжат, аға-әпке, іні-қарындас, бауырлар!</p>
        <p>Өздеріңізді ұлымыз Дамир мен келініміз</p>
        <p>Ақботаның үйлену тойына шақырамыз!</p>
        <p>Екі жастың отау құрған салтанатты күнінде ақ</p>
        <p>дастарханымыздың құрметті қонағы болыңыз!</p>
      </div>
    </div>
    <ul>
      <li><strong>Той иелері:</strong> Фазылжановтар әулеті</li>
      <li>
        <div class="map-container">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d92928.11580230066!2d76.8661538972656!3d43.29324589999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38836d9dc9956533%3A0x1358ae7e53087d22!2sKUANYSH%20GRAND%20HALL!5e0!3m2!1sru!2skz!4v1741546780727!5m2!1sru!2skz" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </li>
      <li><strong>Мекенжай:</strong> Алматы қаласы, Халиуллин көшесі 210/31, Quanysh Grand Hall</li>
      <li><strong>Күні:</strong> Жексенбі, 20 сәуір 2025</li>
      <li><strong>Басталуы:</strong> 17:00</li>
      <li><strong>Асыға күтеміз!</strong></li>
    </ul>
  </section>

  <section class="rsvp" data-aos="fade-up" data-aos-duration="1000">
    <h2>Тойға қатысуыңызды растауыңызды сұраймыз!</h2>
    <div class="form-container">
      <form id="rsvpForm" onsubmit="submitForm(event)">
        <div class="form-group">
          <label for="name">
            Аты-жөніңіз (жұбайыңызбен келетін болсаңыз, екеуіңіздің атыңызды бірге жазуыңызды өтінеміз)
          </label>
          <input type="text" id="name" name="name" required placeholder="Атыңыз" />
        </div>
  
        <div class="form-group">
          <p>Қатысуыңыз:</p>
          <div class="radio-group">
            <input type="radio" id="attend1" name="attend" value="Әрине келемін" required>
            <label for="attend1">Өзім келемін</label>
          </div>
          <div class="radio-group">
            <input type="radio" id="attend2" name="attend" value="Жұбайыммен бірге келемін">
            <label for="attend2">Жұбайыммен бірге келемін</label>
          </div>
          <div class="radio-group">
            <input type="radio" id="attend3" name="attend" value="Өкінішке орай, келе алмаймын">
            <label for="attend3">Бір өкініштісі, келе алмаймын</label>
          </div>
        </div>
  
        <button type="submit">Жауап беру</button>
  
        <p id="statusMessage" class="status-message"></p>
      </form>
    </div>
  </section>
  

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbzsBfYoINtz8cqn-BoHwFCXSn2Jef2rip9Xp0Hso7AK0FK1cI7cOGvP6mzRrG9-3MWG_w/exec';
    async function submitForm(event) {
      event.preventDefault();
      const form = document.getElementById('rsvpForm');
      const statusMessage = document.getElementById('statusMessage');
      statusMessage.textContent = '';
      const formData = new FormData(form);
      try {
        const response = await fetch(scriptURL, {
          method: 'POST',
          body: formData
        });
        const json = await response.json();
        if (json.result === 'success') {
          statusMessage.style.color = 'green';
          statusMessage.textContent = 'Рақмет! Жауабыңыз сәтті жіберілді.';
          form.reset();
        } else {
          throw new Error(json.message || 'Бейтаныс қате');
        }
      } catch (error) {
        statusMessage.style.color = 'red';
        statusMessage.textContent = 'Қате орын алды. Кейінірек қайталап көріңіз.';
      }
    }
  </script>
</body>
</html>